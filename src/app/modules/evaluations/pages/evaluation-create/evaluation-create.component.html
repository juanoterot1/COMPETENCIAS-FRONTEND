<div class="container mx-auto mt-10 px-4">
  <h2 class="text-3xl font-semibold text-gray-800 mb-8 text-center">Crear Nueva Evaluación</h2>

  <form (ngSubmit)="createEvaluation()" class="max-w-lg mx-auto bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
    <!-- Mensaje de Error -->
    <div *ngIf="errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 text-center">
      {{ errorMessage }}
    </div>

    <!-- Mensaje de Éxito -->
    <div *ngIf="successMessage" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6 text-center">
      {{ successMessage }}
    </div>

    <!-- Campo Nombre de Evaluación -->
    <div class="mb-6">
      <label class="block text-gray-700 text-lg font-semibold mb-2" for="name">Nombre de la Evaluación</label>
      <input [(ngModel)]="newEvaluation.name" name="name" type="text" placeholder="Nombre de la Evaluación"
             class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500" required>
    </div>

    <!-- Campo Descripción -->
    <div class="mb-6">
      <label class="block text-gray-700 text-lg font-semibold mb-2" for="description">Descripción</label>
      <textarea [(ngModel)]="newEvaluation.description" name="description" placeholder="Descripción de la Evaluación"
                class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500" required></textarea>
    </div>

    <!-- Selección de Facultad -->
    <div class="mb-6">
      <label class="block text-gray-700 text-lg font-semibold mb-2" for="faculty">Facultad</label>
      <select [(ngModel)]="newEvaluation.id_faculty" name="faculty" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500" required>
        <option [ngValue]="null" disabled selected>Seleccione una Facultad</option>
        <option *ngFor="let faculty of faculties" [ngValue]="faculty.id">{{ faculty.name }}</option>
      </select>
    </div>

    <!-- Selección de Asignatura -->
    <div class="mb-6">
      <label class="block text-gray-700 text-lg font-semibold mb-2" for="subject">Asignatura</label>
      <select [(ngModel)]="newEvaluation.id_subject" name="subject" class="w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500" required>
        <option [ngValue]="null" disabled selected>Seleccione una Asignatura</option>
        <option *ngFor="let subject of subjects" [ngValue]="subject.id">{{ subject.name }}</option>
      </select>
    </div>

    <!-- Botones de Acción -->
    <div class="flex justify-between space-x-4 mt-8">
      <button type="submit" [disabled]="isSubmitting" class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline">
        Crear Evaluación
      </button>
      <button type="button" (click)="cancelCreation()" class="w-full py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded-lg focus:outline-none focus:shadow-outline">
        Cancelar
      </button>
    </div>
  </form>
</div>
