<div class="container mx-auto mt-10 px-4">
  <h2 class="text-3xl font-semibold text-gray-800 mb-8 text-center">Crear Respuestas</h2>

  <form (ngSubmit)="createAnswers()" class="max-w-lg mx-auto bg-white shadow-lg rounded-lg px-8 pt-6 pb-8 mb-4">
    <!-- Mensaje de Error -->
    <div *ngIf="errorMessage" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6 text-center">
      {{ errorMessage }}
    </div>

    <!-- Mensaje de Éxito -->
    <div *ngIf="successMessage" class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-6 text-center">
      {{ successMessage }}
    </div>

    <!-- Respuestas Dinámicas -->
    <div *ngFor="let answer of answers; let i = index" class="mb-6 border border-gray-300 rounded-lg p-4">
      <h3 class="text-lg font-semibold text-gray-700 mb-4">Respuesta {{ i + 1 }}</h3>
      
      <!-- Campo de Descripción -->
      <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="description-{{i}}">Descripción</label>
        <input [(ngModel)]="answer.answer_description" name="description-{{i}}" type="text"
               class="w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none" required>
      </div>

      <!-- Campo de ID de Evaluación -->
      <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="idEvaluation-{{i}}">ID de Evaluación</label>
        <input [(ngModel)]="answer.id_evaluation" name="idEvaluation-{{i}}" type="number"
               class="w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none" required>
      </div>

      <!-- Campo de ID de Pregunta -->
      <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="idQuestion-{{i}}">ID de Pregunta</label>
        <input [(ngModel)]="answer.id_question" name="idQuestion-{{i}}" type="number"
               class="w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none" required>
      </div>

      <!-- Campo de Puntaje -->
      <div class="mb-4">
        <label class="block text-gray-700 font-semibold mb-2" for="score-{{i}}">Puntaje</label>
        <input [(ngModel)]="answer.score" name="score-{{i}}" type="number"
               class="w-full px-4 py-2 border rounded-lg shadow-sm focus:outline-none" required>
      </div>

      <!-- Botón para Eliminar Respuesta -->
      <div class="flex justify-end">
        <button type="button" (click)="removeAnswer(i)" class="text-red-500 font-semibold">
          Eliminar
        </button>
      </div>
    </div>

    <!-- Botón para Añadir Respuesta -->
    <div class="flex justify-center mb-6">
      <button type="button" (click)="addAnswer()" class="py-2 px-4 bg-blue-500 hover:bg-blue-600 text-white rounded-lg">
        Añadir Respuesta
      </button>
    </div>

    <!-- Botones de Acción -->
    <div class="flex justify-between space-x-4 mt-8">
      <button type="submit" [disabled]="isSubmitting" class="w-full py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg focus:outline-none">
        Crear Respuestas
      </button>
      <button type="button" (click)="cancelCreate()" class="w-full py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded-lg focus:outline-none">
        Cancelar
      </button>
    </div>
  </form>
</div>
